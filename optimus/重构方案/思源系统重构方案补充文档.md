# 排期
@胡鑫琪 (7天)  2月2日 -- 2月8日
- 渠道管理和系统管理 11个页面 

@齐洪（10天）2月2日  -- 2月12日
- 渠道数据 10个页面
- 样式 1d
- icons 0.5d
- Excel 下载统一做 1.5d
- Excel 名称提取 1d

## 延期时间点
| 还需要延4d | 工时 |
| :---- | :----   |
| 全局样式 | 完成 |
| 每个模块开始时间和结束时间调整 -- 截止日期    | 完成 |
| icon和logo  | 完成 |
| 千分位  | 0.5d |
| 小数部份剩以100% 小数保留后两位 | 0.5d |
| Excel下载 这块比较麻烦， 11个模块都有Excel下载--  | 完成 |
| 登录验证超时登录 联调的时候在弄 | 看看有没有什么好的解决办法 |





# 需要后端帮助的

- 后端需要帮忙创建一个gitlab 代码仓库
- 部署一个测试版本
- 测试时间节点需要导数据
- 将登录后的权限状态放到页面

## demo样式提取出class @齐洪

## 启服务

| 启动方式 | 命令 |
| :----: | :----   |
| 本地开发 | ``` npm start ``` |
| 发布到测试环境和生产环境 | ``` npm run dev ``` |
| 调试测试环境和生产环境 | ``` npm run debug ``` |

## 注意事项 （前端协同开发注意事项）

- 筛选条件联动规则
- 有的页面全量数据和有的图表需要排序转变格式、使用TaffyDB来做，不要用基础代码写
    > 可以根据测试环境和生产环境的参数里有没有offset、limit字段分辨

- 接口反回数据为 "code": -1 的时候用户登录超时或没有登录，跳转到登录页面
- ```发请求改变状态，一定要在components组件里把参数配置好 --这很重要```
- ``` 低耦合、高内聚原则 ```



# 路由地址

## 路由嵌套 
- ``` 不管嵌套多少层，父路由组件只有一个 ```  @齐洪

## 渠道数据 @齐洪

| 模块名称    |  模块地址     |     状态     |
| :---------: | :------------ |    ------:   |
| 用户概况    | /data/profile |    完成      |
| 整体趋势    | /data/allTrend |   完成    |
| 留存趋势    | /data/retentionAnalysis |   完成    |
| 用户构成    | /data/userCompose | 完成    |
| 流量分布    | /data/flowDistribution |   完成  |
| 用户质量    | /data/userMass |   完成  |
| 站外唤醒    | /data/awaken |  完成    |
| 终端品牌    | /data/terminalBrand |   完成   |
| 广告曝光    | /data/adImpression | 完成   |
| 渠道ROI    | /data/channelRoi | 完成   |
| KPI报表    | /data/kpi |  完成    |


## 渠道管理 @胡鑫琪

| 模块名称 | 模块列表地址 | 模块新建地址  |  模块修改地址  |  状态   |
| :---:     | :--------- | :-------------------------- | :----------- |   ------: |
| 渠道列表  | /manager/channellist   | /manager/channellist/create | /manager/channellist/edit/2312 |  完成   |
| 渠道分组  | /manager/channelgroup | /manager/channelgroup/create | /manager/channelgroup/edit/1234 | 完成  |
| 短链管理  | /manager/shortLink    | /manager/shortLink/create |            | 完成   |
| 渠道成本  | /manager/channelcost  |                   | 完成 --除了上传   |

## 系统管理 @胡鑫琪

| 模块名称 | 模块列表地址 | 模块新建地址 | 模块修改地址 |  状态   |
| :------: | :------------| :----------- | :----------- |  ------: |
| 机型管理 | /sys/modal   | /sys/modal/create | 待定 /sys/modal/edit/魅族/Meizu    |    |


## 用户管理 【完成】

| 模块名称 | 模块列表地址 | 模块新建地址 | 模块修改地址 |  状态   |
| :------: | :----------- | :---------- | :----------- | ------: |
| 用户列表 | /user/list    | /user/list/createuser | /user/list/edit/1234 |  完成   |

## 公共组件 


### 说明

| 说明 | 组件名称  | 参数     |
| :------: | :----------- | :----- |        
| 顶部导航组件 | topNav  |   value  |
| 渠道数据左侧导航组件 | dataLeftNav |    value  |
| 渠道管理左侧导航组件 | managerLeftNav |  value |
| 系统管理左侧导航组件 | sysLeftNav |   value |
| 用户管理左侧导航组件 | userLeftNav |  value |


### 顶部导航组件 -- 参数说明


- import TopNav from "../topNav/topNav";

| 说明 | value参数 | 示例 |
| :---:  |  :--- |  :----  |
| 渠道数据  |  data    | ``` <TopNav value={"data"} /> ``` |
| 渠道管理  |  manager | ``` <TopNav value={"manager"} /> ```  |
| 系统管理  |  sys     | ``` <TopNav value={"sys"} /> ```  |
| 用户管理  |  user     | ``` <TopNav value={"user"} /> ```  |

### 渠道数据左侧导航组件 --参数说明

- import DataLeftNav from "../dataLeftNav/dataLeftNav";

| 说明 | value参数 | 示例 |
| :---:  |  :--- |  :----  |
| 渠道数据  |  profile    | ``` <DataLeftNav value={"profile"} /> ``` |
| 整体趋势  |  allTrend    | ``` <DataLeftNav value={"allTrend"} /> ``` |
| 留存分析  |  retentionAnalysis    | ``` <DataLeftNav value={"retentionAnalysis"} /> ``` |
| 用户构成  |  userCompose    | ``` <DataLeftNav value={"userCompose"} /> ``` |
| 流量分布  |  flowDistribution    | ``` <DataLeftNav value={"flowDistribution"} /> ``` |
| 用户质量  |  userMass    | ``` <DataLeftNav value={"userMass"} /> ``` |
| 站外唤醒  |  awaken    | ``` <DataLeftNav value={"awaken"} /> ``` |
| 终端品牌  |  terminalBrand    | ``` <DataLeftNav value={"terminalBrand"} /> ``` |
| 广告曝光  |  adImpression    | ``` <DataLeftNav value={"adImpression"} /> ``` |
| 渠道ROI  |  channelRoi    | ``` <DataLeftNav value={"channelRoi"} /> ``` |
| KPI报表  |  kpiReport    | ``` <DataLeftNav value={"kpiReport"} /> ``` |


### 渠道管理左侧导航组件 --参数说明

- import ManagerLeftNav from "../managerLeftNav/managerLeftNav";

| 说明 | value参数 | 示例 |
| :---:  |  :--- |  :----  |
| 渠道列表  |  channelList    | ``` <ManagerLeftNav value={"channelList"} /> ``` |
| 渠道分组  |  channelGroup    | ``` <ManagerLeftNav value={"channelGroup"} /> ``` |
| 短链管理  |  shortLink    | ``` <ManagerLeftNav value={"shortLink"} /> ``` |
| 渠道成本  |  channelCost    | ``` <ManagerLeftNav value={"channelCost"} /> ``` |


### 系统管理左侧导航组件 --参数说明

- import SysLeftNav from "../sysLeftNav/sysLeftNav";

| 说明 | value参数 | 示例 |
| :---:  |  :--- |  :----  |
| 机型管理  |  modalManager    | ``` <SysLeftNav value={"modalManager"} /> ``` |


### 用户管理左侧导航组件 --参数说明

- import UserLeftNav from "../userLeftNav/userLeftNav";

| 说明 | value参数 | 示例 |
| :---:  |  :--- |  :----  |
| 用户列表  |  userList    | ``` <UserLeftNav value={"userList"} /> ``` |



## 公共方法 @齐洪
> /src/common/utils.js

- 将公共方法加入注释文档 

| 方法名 | 说明 |
| :---:  |  :--- |
| addKey | 在使用antd Table 返回来的数据没有key字段，需要自己加入，console上会出现警告 | 
| strToArr  |  antd 复选框，antd做法与约定的接口文档不符，需要调用方法手动解决一下，适情况调用 | 
| userAllow  |  用户的权限信息 |
| doAllow  |  这个方法只作用在路由配置的钩子里,控制用户权限 |
| format2quartile | 千分位     |
| excelName | 下载Excel名称规则  |
| isAllow   |  路由钩子    |


## 图表模板 @齐洪
> /src/common/chartConfigs.js

- 查看注释文档 

| 方法名 | 说明 |
| :---:  |  :--- |
| Line | 折线图、柱图通用 | 
| Pie | 饼图 | 
| Map | 地图 | 


## 排期计划

- 有些交互点需要和产品变通
- 先完成
	- 交互先做
		- 渠道数据 -- 用户概况 【完成】
		- 渠道数据 -- KPI报表
		- 用户管理 -- 用户列表 【完成】
	- 调整样式 （其它页面复用）

- 后需页面 -- 只是预估
	- 一个模块计划大概一天
	- 渠道数据 — 模块个数10
		- 整体趋势
		- 留存分析
		- 用户构成
		- 流量分布
		- 用户质量
		- 站外唤醒
		- 终端品牌
		- 广告曝光
		- 渠道ROI
		- KPI报表
	- 渠道管理 — 模块个数4
		- 渠道列表
		- 渠道分组
		- 短链管理
		- 渠道成本
	- 系统管理 — 模块个数1
		- 机型管理
	- 样式 1d
	- icons  0.5d
	- Excel 下载统一做 1.5d
	- Excel 名称提取 1d
    - 对比功能在新版上线后空闲时间实现

- 整体开发整体测试
	- 分两轮





